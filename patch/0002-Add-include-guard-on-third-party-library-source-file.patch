From 3108d51c34304916e967460a20cd8dc91ae1bc87 Mon Sep 17 00:00:00 2001
From: Zakariyya Mughal <zaki.mughal@gmail.com>
Date: Wed, 28 Feb 2018 10:51:33 -0500
Subject: [PATCH 2/5] Add include guard on third-party library source files

---
 willuslib/ocrtess.c    | 7 ++++++-
 willuslib/wleptonica.c | 4 ++++
 2 files changed, 10 insertions(+), 1 deletion(-)

diff --git a/willuslib/ocrtess.c b/willuslib/ocrtess.c
index 97a72d6..c8d8df1 100644
--- a/willuslib/ocrtess.c
+++ b/willuslib/ocrtess.c
@@ -24,9 +24,12 @@
 #include <stdlib.h>
 #include <string.h>
 #include <ctype.h>
+#include "willus.h"
+
+#ifdef HAVE_TESSERACT_LIB
+
 #include <leptonica.h>
 #include <tesseract.h>
-#include "willus.h"
 
 
 static void lang_default(char *langdef);
@@ -210,3 +213,5 @@ static void endian_flip(char *x,int n)
         x[2]=c;
         }
     }
+
+#endif /* HAVE_TESSERACT_LIB  */
diff --git a/willuslib/wleptonica.c b/willuslib/wleptonica.c
index 2176bc8..33c9321 100644
--- a/willuslib/wleptonica.c
+++ b/willuslib/wleptonica.c
@@ -21,6 +21,9 @@
 */
 #include <stdio.h>
 #include "willus.h"
+
+#ifdef HAVE_LEPTONICA_LIB
+
 #include <leptonica.h>
 
 static void wlept_pix_from_bmp(PIX **pixptr,WILLUSBITMAP *bmp);
@@ -155,3 +158,4 @@ pixWrite("pixb.png",pixb,IFF_PNG);
     dewarpaDestroy(&dewa); /* Includes dewarpDestroy of dew1 */
     pixDestroy(&pix);
     }
+#endif /* HAVE_LEPTONICA_LIB */
-- 
2.16.1

