From 60210b9d21b43e710da3fe8b5a2fb7a87210caac Mon Sep 17 00:00:00 2001
From: Zakariyya Mughal <zaki.mughal@gmail.com>
Date: Wed, 28 Feb 2018 10:53:00 -0500
Subject: [PATCH 4/5] Do not use ocr_max_columns member when OCR not available

---
 k2pdfoptlib/k2master.c | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/k2pdfoptlib/k2master.c b/k2pdfoptlib/k2master.c
index 9b7a12f..8e6fedb 100644
--- a/k2pdfoptlib/k2master.c
+++ b/k2pdfoptlib/k2master.c
@@ -2683,7 +2683,11 @@ printf("@k2master_rows_color:  %d x %d\n",srcbmp->width,srcbmp->height);
     /* Parse region into columns */
     pageregions=&_pageregions;
     pageregions_init(pageregions);
+#ifdef HAVE_OCR_LIB
     if (k2settings->ocr_max_columns==2 || k2settings->max_columns>1)
+#else
+    if (k2settings->max_columns>1)
+#endif
         maxlevels = 2;
     else
         maxlevels = 3;
-- 
2.16.1

